<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INVENTRA - Add Payment</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../stylesheet/navbar.css" />
  <link rel="stylesheet" href="../stylesheet/add_payment.css" />
  <link rel="icon" href="../assets/INVENTRA.svg" />
  <meta name="description" content="Create new supplier or customer payments in Inventra." />
</head>
<body>
  <div class="sidebar">
    <div class="logo-section">
      <div class="logo">
        <img src="../assets/INVENTRA.svg" alt="INVENTRA Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
        <div class="logo-text" style="display: none;">INVENTRA</div>
      </div>
    </div>

    <nav class="nav-menu">
      <ul>
        <li class="nav-item" data-page="dashboard"><a href="dashboard.html"><i class="fas fa-th-large"></i><span>Dashboard</span></a></li>
        <li class="nav-item" data-page="sale"><a href="sale.html"><i class="fas fa-shopping-cart"></i><span>Sale</span></a></li>
        <li class="nav-item" data-page="inventory"><a href="inventory.html"><i class="fas fa-boxes"></i><span>Inventory</span></a></li>
        <li class="nav-item" data-page="orders"><a href="stock-orders.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" fill="currentColor"><path d="m691-150 139-138-42-42-97 95-39-39-42 43 81 81ZM240-600h480v-80H240v80ZM720-40q-83 0-141.5-58.5T520-240q0-83 58.5-141.5T720-440q83 0 141.5 58.5T920-240q0 83-58.5 141.5T720-40ZM120-80v-680q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v267q-19-9-39-15t-41-9v-243H200v562h243q5 31 15.5 59T486-86l-6 6-60-60-60 60-60-60-60 60-60-60-60 60Zm120-200h203q3-21 9-41t15-39H240v80Zm0-160h284q38-37 88.5-58.5T720-520H240v80Zm-40 242v-562 562Z"/></svg>
          <span>Orders</span></a></li>
        <li class="nav-item" data-page="shipment"><a href="shipping_overview.html"><i class="fas fa-truck"></i><span>Shipment</span></a></li>
        <li class="nav-item" data-page="payment"><a href="payment.html"><i class="fas fa-credit-card"></i><span>Payment</span></a></li>
        <li class="nav-item" data-page="inbox"><a href="inbox.html"><i class="fas fa-envelope"></i><span>AI Powered Inbox</span></a></li>
        <li class="nav-item" data-page="settings"><a href="settings.html"><i class="fas fa-cog"></i><span>Settings</span></a></li>
      </ul>
    </nav>

    <div class="user-profile">
      <div class="user-avatar"><span>J</span></div>
      <div class="user-info"><span class="user-name">John Doe</span><i class="fas fa-chevron-down"></i></div>
    </div>
  </div>

  <div class="main-content">
    <div class="page-header">
      <div>
        <h1>Add New Payment</h1>
        <div class="header-description">Create supplier or customer payment records</div>
      </div>
      <div></div>
    </div>

    <div class="quick-actions">
      <a class="action-btn" href="payment.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
        All Payments
      </a>
      <a class="action-btn" href="update_payment.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
        Update Payment
      </a>
      <a class="action-btn" href="payment_report.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
        Payment Reports
      </a>
      <a class="action-btn" href="payment_invoice.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zm-5.5-7c.83 0 1.5-.67 1.5-1.5S13.33 11 12.5 11s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm2.5 4H8.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5H15c.28 0 .5.22.5.5s-.22.5-.5.5z"/></svg>
        Generate Invoice
      </a>
      <a class="action-btn active" href="add_payment.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"/></svg>
        Add New Payment
      </a>
    </div>

    <!-- Payment Form -->
    <div class="section">
      <div class="section-header">
        <div class="section-title"><i class="fas fa-credit-card"></i> Payment Details</div>
      </div>
      <div class="section-content">
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label" for="paymentType">Type</label>
            <select class="form-input" id="paymentType">
              <option value="Supplier">Supplier</option>
              <option value="Customer">Customer</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="referenceId">Reference ID</label>
            <input type="text" class="form-input" id="referenceId" placeholder="e.g., VN-2024-089 or ORD-2024-023" />
          </div>
          <div class="form-group">
            <label class="form-label" for="company">Supplier/Customer</label>
            <input type="text" class="form-input" id="company" placeholder="e.g., Vietnam Timber Co" />
          </div>
          <div class="form-group">
            <label class="form-label" for="currency">Currency</label>
            <select class="form-input" id="currency">
              <option value="SGD">SGD - Singapore Dollar</option>
              <option value="USD">USD - US Dollar</option>
              <option value="MYR">MYR - Malaysian Ringgit</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="amount">Amount</label>
            <input type="number" class="form-input" id="amount" step="0.01" placeholder="0.00" />
          </div>
          <div class="form-group">
            <label class="form-label" for="status">Status</label>
            <select class="form-input" id="status">
              <option value="Pending">Pending</option>
              <option value="Paid">Paid</option>
              <option value="Overdue">Overdue</option>
              <option value="Received">Received</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="dueDate">Due Date</label>
            <input type="date" class="form-input" id="dueDate" />
          </div>
          <div class="form-group">
            <label class="form-label" for="paymentDate">Payment Date</label>
            <input type="date" class="form-input" id="paymentDate" />
          </div>
        </div>
        <div class="form-group" style="margin-top: 12px;">
          <label class="form-label" for="description">Description</label>
          <textarea class="form-input" id="description" placeholder="e.g., Pinewood Raw Material - 30 Units"></textarea>
        </div>
      </div>
    </div>

    <!-- Live Preview -->
    <div class="section">
      <div class="section-header">
        <div class="section-title"><i class="fas fa-eye"></i> Live Preview</div>
      </div>
      <div class="section-content">
        <div class="preview-card">
          <div class="preview-top">
            <div class="generated-id">Payment ID: <span id="previewPaymentId"></span></div>
            <span class="type-badge" id="previewType">Supplier</span>
          </div>
          <div class="preview-grid">
            <div>
              <div class="label">Supplier/Customer</div>
              <div class="value" id="previewCompany">â€”</div>
            </div>
            <div>
              <div class="label">Reference</div>
              <div class="value" id="previewReference">â€”</div>
            </div>
            <div>
              <div class="label">Amount</div>
              <div class="value amount" id="previewAmount">â€”</div>
            </div>
            <div>
              <div class="label">Due Date</div>
              <div class="value" id="previewDue">â€”</div>
            </div>
          </div>
          <div class="preview-bottom">
            <span class="status-badge status-pending" id="previewStatus">Pending</span>
            <div class="desc" id="previewDescription">â€”</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="section">
      <div class="section-content" style="display:flex; gap:12px; justify-content:flex-end;">
        <button class="btn btn-cancel" id="cancelBtn">Cancel</button>
        <button class="btn btn-confirm" id="createBtn"><i class="fas fa-circle-plus"></i> Create Payment</button>
      </div>
    </div>
  </div>

  <!-- Create Confirmation Modal -->
  <div id="createPaymentModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <div class="modal-header">
        <h2 class="modal-title">Confirm New Payment</h2>
        <button class="close" onclick="closeModal('createPaymentModal')" aria-label="Close">&times;</button>
      </div>
      <div class="confirmation-icon">ðŸ’³</div>
      <div class="confirmation-message">Please review and confirm the new payment details:</div>
      <div class="payment-details">
        <div class="receipt-item"><span class="receipt-label">Payment ID:</span><span class="receipt-value" id="confirmPaymentId"></span></div>
        <div class="receipt-item"><span class="receipt-label">Type:</span><span class="receipt-value" id="confirmType"></span></div>
        <div class="receipt-item"><span class="receipt-label">Supplier/Customer:</span><span class="receipt-value" id="confirmCompany"></span></div>
        <div class="receipt-item"><span class="receipt-label">Amount:</span><span class="receipt-value" id="confirmAmount"></span></div>
        <div class="receipt-item"><span class="receipt-label">Due Date:</span><span class="receipt-value" id="confirmDue"></span></div>
        <div class="receipt-item"><span class="receipt-label">Status:</span><span class="receipt-value" id="confirmStatus"></span></div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-confirm" onclick="confirmCreatePayment()">âœ… Confirm Create</button>
        <button class="btn btn-cancel" onclick="closeModal('createPaymentModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <div class="modal-header">
        <h2 class="modal-title">Payment Created</h2>
        <button class="close" onclick="closeModal('successModal')" aria-label="Close">&times;</button>
      </div>
      <div class="confirmation-icon" style="color:#059669;">âœ…</div>
      <div class="confirmation-message">The new payment has been created successfully!<br><strong>Transaction ID: <span id="successTransactionId"></span></strong></div>
      <div class="modal-actions">
        <a class="btn btn-secondary" href="payment.html">View All Payments</a>
        <button class="btn btn-primary" onclick="closeModal('successModal')">Close</button>
      </div>
    </div>
  </div>

  <script src="../js/navbar.js"></script>
  <script src="../js/animations.js"></script>
  <script src="../js/add_payment.js"></script>
</body>
</html>


