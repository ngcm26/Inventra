<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INVENTRA - Update Payment</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../stylesheet/navbar.css" />
  <link rel="stylesheet" href="../stylesheet/update_payment.css" />
  <link rel="icon" href="../assets/INVENTRA.svg" />
</head>
<body>
  <!-- Sidebar Navigation -->
  <div class="sidebar">
    <div class="logo-section">
      <div class="logo">
        <img src="../assets/INVENTRA.svg" alt="INVENTRA Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
        <div class="logo-text" style="display: none;">INVENTRA</div>
      </div>
    </div>
    <nav class="nav-menu">
      <ul>
        <li class="nav-item" data-page="dashboard"><a href="dashboard.html"><i class="fas fa-th-large"></i><span>Dashboard</span></a></li>
        <li class="nav-item" data-page="sale"><a href="sale.html"><i class="fas fa-shopping-cart"></i><span>Sale</span></a></li>
        <li class="nav-item" data-page="inventory"><a href="inventory.html"><i class="fas fa-boxes"></i><span>Inventory</span></a></li>
        <li class="nav-item" data-page="orders"><a href="orders.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" fill="currentColor"><path d="m691-150 139-138-42-42-97 95-39-39-42 43 81 81ZM240-600h480v-80H240v80ZM720-40q-83 0-141.5-58.5T520-240q0-83 58.5-141.5T720-440q83 0 141.5 58.5T920-240q0 83-58.5 141.5T720-40ZM120-80v-680q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v267q-19-9-39-15t-41-9v-243H200v562h243q5 31 15.5 59T486-86l-6 6-60-60-60 60-60-60-60 60-60-60-60 60Zm120-200h203q3-21 9-41t15-39H240v80Zm0-160h284q38-37 88.5-58.5T720-520H240v80Zm-40 242v-562 562Z"/></svg>
          <span>Orders</span></a></li>
        <li class="nav-item" data-page="shipment"><a href="shipping_overview.html"><i class="fas fa-truck"></i><span>Shipment</span></a></li>
        <li class="nav-item" data-page="payment"><a href="payment.html"><i class="fas fa-credit-card"></i><span>Payment</span></a></li>
        <li class="nav-item" data-page="inbox"><a href="inbox.html"><i class="fas fa-envelope"></i><span>AI Powered Inbox</span></a></li>
        <li class="nav-item" data-page="settings"><a href="settings.html"><i class="fas fa-cog"></i><span>Settings</span></a></li>
      </ul>
    </nav>
    <div class="user-profile">
      <div class="user-avatar"><span>J</span></div>
      <div class="user-info"><span class="user-name">John Doe</span><i class="fas fa-chevron-down"></i></div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="page-header">
      <div>
        <h1>Update Payment</h1>
        <div class="header-description">Modify existing payment details and track changes</div>
      </div>
      <div></div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <a class="action-btn" href="payment.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
        All Payments
      </a>
      <a class="action-btn active" href="update_payment.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
        Update Payment
      </a>
      <a class="action-btn" href="payment_report.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
        Payment Reports
      </a>
      <a class="action-btn" href="payment_invoice.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zm-5.5-7c.83 0 1.5-.67 1.5-1.5S13.33 11 12.5 11s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm2.5 4H8.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5H15c.28 0 .5.22.5.5s-.22.5-.5.5z"/></svg>
        Generate Invoice
      </a>
      <a class="action-btn" href="add_payment.html">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"/></svg>
        Add New Payment
      </a>
    </div>

    <!-- Search Section -->
    <div class="section">
      <div class="section-header"><div class="section-title"><i class="fas fa-magnifying-glass"></i> Select Payment to Update</div></div>
      <div class="section-content">
        <div class="search-form">
          <input type="text" class="search-input" id="paymentSearch" placeholder="Enter Payment ID (e.g., VN-2024-089)" />
          <button class="btn btn-primary" id="searchBtn"><i class="fas fa-magnifying-glass"></i> Search</button>
        </div>
      </div>
    </div>

    <!-- Payment Result -->
    <div class="section" id="paymentResult" style="display:none;">
      <div class="section-header">
        <div class="section-title"><i class="fas fa-receipt"></i> Payment Result</div>
        <div class="status-badge status-overdue" id="resultStatus">12 Days Overdue</div>
      </div>
      <div class="section-content">
        <div class="result-grid">
          <div class="payment-id" id="resultPaymentId">PAY-2024-089</div>
          <div class="supplier-name" id="resultSupplier">Vietnam Timber Co</div>
          <div class="payment-amount" id="resultAmount">$18,750</div>
          <div class="description" id="resultDescription"></div>
        </div>
      </div>
    </div>

    <!-- Pending Changes Alert -->
    <div class="alert" id="pendingChangesAlert" style="display:none;">
      <div class="alert-icon"><i class="fas fa-triangle-exclamation"></i></div>
      <div class="alert-content">
        <div class="alert-title">Pending Changes</div>
        <div class="alert-message" id="pendingChangesList">
          • Due date changed from May 15, 2025 to May 30, 2025<br />
          • Payment amount adjusted from $18,750 to $19,250 (shipping cost increase)<br />
          • Priority changed from "Normal" to "High - Urgent Payment Required"
        </div>
      </div>
    </div>

    <!-- Payment Details Form -->
    <div class="section" id="paymentDetailsForm" style="display:none;">
      <div class="section-header"><div class="section-title"><i class="fas fa-credit-card"></i> Payment Details</div></div>
      <div class="section-content">
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label" for="paymentAmount">Payment Amount</label>
            <input type="number" class="form-input" id="paymentAmount" value="19250.00" step="0.01" />
          </div>
          <div class="form-group">
            <label class="form-label" for="currency">Currency</label>
            <select class="form-input" id="currency">
              <option value="SGD">SGD - Singapore Dollar</option>
              <option value="USD">USD - US Dollar</option>
              <option value="MYR">MYR - Malaysian Ringgit</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="dueDate">Due Date</label>
            <input type="date" class="form-input" id="dueDate" value="2025-05-30" />
          </div>
          <div class="form-group">
            <label class="form-label" for="paymentDate">Payment Date</label>
            <input type="date" class="form-input" id="paymentDate" />
          </div>
          <div class="form-group">
            <label class="form-label" for="paymentStatus">Payment Status</label>
            <select class="form-input" id="paymentStatus">
              <option value="Pending">Pending</option>
              <option value="Paid">Paid</option>
              <option value="Overdue">Overdue</option>
              <option value="Cancelled">Cancelled</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="priority">Priority</label>
            <select class="form-input" id="priority">
              <option value="Normal">Normal</option>
              <option value="High">High - Urgent Payment Required</option>
              <option value="Low">Low</option>
            </select>
          </div>
        </div>
        <div class="form-group" style="margin-top: 12px;">
          <label class="form-label" for="updateReason">Update Reason</label>
          <textarea class="form-input" id="updateReason" placeholder="e.g., Shipment delayed, amount adjustment due to additional costs...">Shipment delayed, amount adjustment due to additional costs.</textarea>
        </div>
      </div>
    </div>

    <!-- Shipment Integration -->
    <div class="section" id="shipmentIntegration" style="display:none;">
      <div class="section-header"><div class="section-title"><i class="fas fa-box-open"></i> Shipment Integration</div></div>
      <div class="section-content">
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label" for="relatedShipment">Related Shipment</label>
            <input type="text" class="form-input" id="relatedShipment" value="VN-2024-089" readonly />
          </div>
          <div class="form-group">
            <label class="form-label">Shipment Status</label>
            <input type="text" class="form-input" value="Delayed - At Customs" readonly />
          </div>
          <div class="form-group">
            <label class="form-label" for="expectedArrival">Expected Arrival</label>
            <input type="date" class="form-input" id="expectedArrival" value="2025-06-15" />
          </div>
          <div class="form-group">
            <label class="form-label" for="autoUpdate">Auto-Update Payment</label>
            <select class="form-input" id="autoUpdate">
              <option value="Yes">Yes - Update when shipment arrives</option>
              <option value="No">No</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="section" id="formActions" style="display:none;">
      <div class="section-content" style="display:flex; gap:12px; justify-content:flex-end;">
        <button class="btn btn-cancel" id="cancelBtn">Cancel</button>
        <button class="btn btn-confirm" id="saveBtn"><i class="fas fa-floppy-disk"></i> Save Changes</button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <div class="modal-header">
        <h2 class="modal-title">Payment Updated Successfully</h2>
        <button class="close" onclick="closeModal('successModal')" aria-label="Close">&times;</button>
      </div>
      <div class="confirmation-icon" style="color:#059669; font-size:48px;"><i class="fas fa-circle-check"></i></div>
      <div class="confirmation-message">Payment details have been updated successfully!<br><strong>Payment ID: <span id="successPaymentId"></span></strong></div>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="closeModal('successModal')">Close</button>
        <a class="btn btn-secondary" href="payment.html">View All Payments</a>
      </div>
    </div>
  </div>

  <script src="../js/navbar.js"></script>
  <script src="../js/animations.js"></script>
  <script src="../js/update_payment.js"></script>
</body>
</html>


